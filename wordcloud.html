<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>词云</title>
    <!-- 引入 d3 -->
    <script src="js/d3.v3.min.js"></script>

    <!-- 引入词云 -->
    <script src="js/d3.layout.cloud.js"></script>
</head>

<body>
    <div id="wordCloud">

    </div>
    <script>
        // 数据 只要改这里
        var wordCloudKeyWords = {
            "中国": 0.3918958761939129,
            "电力": 0.3918958761939129,
            "华为": 0.3918958761939129,
            "签署": 0.3918958761939129,
            "战略": 0.3918958761939129,
            "合作协议": 0.3918958761939129,
            "肇庆市": 0.3918958761939129,
            "市场监督管理局": 0.3918958761939129,
            "公布": 0.3918958761939129,
            "2021民生领域案件": 0.3918958761939129,
            "查办“铁拳”行动": 0.3918958761939129,
            "典型案例": 0.3918958761939129,
            "恒大地产": 0.38918202981106265,
            "震动": 0.47027505143269555,
            "许家印": 0.47027505143269555,
            "卸任": 0.47027505143269555,
            "股价重挫": 0.47027505143269555,
            "排名第一": 0.47027505143269555,
            "平安租赁": 0.47027505143269555,
            "入选": 0.47027505143269555,
            "“消费者最满意的汽车融资租赁公司”": 0.47027505143269555,
            "榜单": 0.47027505143269555,
            "汽车之家": 0.5878438142908694,
            "宣布": 0.5878438142908694,
            "集生态战略": 0.5878438142908694,
            "升级": 0.5878438142908694,
            "华为周桃园": 0.2939219071454347,
            "绿色能源": 0.2939219071454347,
            "目标网": 0.2939219071454347,
            "助力": 0.2939219071454347,
            "运营商": 0.2939219071454347,
            "实现": 0.24323876863191415,
            "绿色低碳": 0.2939219071454347,
            "网络": 0.2939219071454347,
            "为高层次": 0.2939219071454347,
            "紧缺人才": 0.2939219071454347,
            "开辟绿色通道": 0.2939219071454347,
            "江苏省": 0.2939219071454347,
            "349人": 0.2939219071454347,
            "被直接认定": 0.2939219071454347,
            "高级职称": 0.2939219071454347,
            "腾讯": 0.33591075102335394,
            "造芯官方": 0.33591075102335394,
            "回应来了": 0.33591075102335394,
            "科技巨头": 0.33591075102335394,
            "入局": 0.33591075102335394,
            "概念股": 0.33591075102335394,
            "业绩大涨": 0.33591075102335394,
            "北交所张梅": 0.3918958761939129,
            "构建": 0.3243183581758855,
            "长周期": 0.3918958761939129,
            "全链条服务": 0.3918958761939129,
            "中小企业": 0.3918958761939129,
            "市场体系": 0.3918958761939129,
            "中小券商": 0.5878438142908694,
            "发力": 0.5878438142908694,
            "布局": 0.5878438142908694,
            "新三板业务": 0.5878438142908694,
            "恒大": 0.47027505143269555,
            "百亿": 0.47027505143269555,
            "旧改": 0.47027505143269555,
            "国家队": 0.47027505143269555,
            "驰援": 0.47027505143269555,
            "供应商": 0.47027505143269555,
            "某大商票": 0.47027505143269555,
            "造成影响": 0.47027505143269555,
            "集中反馈": 0.47027505143269555,
            "中航产融公司": 0.5878438142908694,
            "所属": 0.5878438142908694,
            "子公司": 0.5878438142908694,
            "中航": 0.5878438142908694,
            "信托": 0.26126391746260863,
            "资金": 0.26126391746260863,
            "未曾": 0.26126391746260863,
            "恒大地产": 0.21621223878392368,
            "关联企业": 0.26126391746260863,
            "发生": 0.26126391746260863,
            "贷款": 0.26126391746260863,
            "投资的业务": 0.26126391746260863,
            "QQ": 0.3918958761939129,
            "远去": 0.3918958761939129,
            "微信": 0.3918958761939129,
            "成为腾讯": 0.3918958761939129,
            "元宇宙社交": 0.3918958761939129,
            "最大弱点": 0.3918958761939129,
            "苹果": 0.2137613870148616,
            "谷歌": 0.2137613870148616,
            "五巨头": 0.2137613870148616,
            "十年": 0.2137613870148616,
            "并购": 0.2137613870148616,
            "616家": 0.2137613870148616,
            "初创企业": 0.2137613870148616,
            "小型收购": 0.2137613870148616,
            "开始": 0.2137613870148616,
            "被反垄断": 0.2137613870148616,
            "盯上": 0.2137613870148616,
            "中远海运": 0.33591075102335394,
            "顺利完成": 0.33591075102335394,
            "埃及斋月十日": 0.33591075102335394,
            "城铁路": 0.33591075102335394,
            "项目": 0.33591075102335394,
            "首批": 0.33591075102335394,
            "轨道车辆交付": 0.33591075102335394,
            "盛业资本": 0.26126391746260863,
            "中铁资本": 0.26126391746260863,
            "保理": 0.26126391746260863,
            "深化战略合作": 0.26126391746260863,
            "构建": 0.21621223878392368,
            "基建行业": 0.26126391746260863,
            "供应链": 0.26126391746260863,
            "数字金融生态": 0.26126391746260863,
            "深度": 0.3918958761939129,
            "CDL": 0.3918958761939129,
            "1美元": 0.3918958761939129,
            "清仓": 0.3918958761939129,
            "协信远创": 0.3918958761939129,
            "多家国资入局": 0.3918958761939129,
            "雪域先锋号": 0.47027505143269555,
            "首次": 0.47027505143269555,
            "实现": 0.38918202981106265,
            "远程操控": 0.47027505143269555,
            "始发": 0.47027505143269555,
            "媒体": 0.23513752571634777,
            "调查": 0.23513752571634777,
            "15家": 0.23513752571634777,
            "互联网平台": 0.23513752571634777,
            "涉金融产品": 0.23513752571634777,
            "少数": 0.23513752571634777,
            "存在违规": 0.23513752571634777,
            "部分业务": 0.23513752571634777,
            "监管标准": 0.23513752571634777,
            "待明晰": 0.23513752571634777,
        };
        var myWords = []
        for (let name in wordCloudKeyWords) {
            myWords.push({
                word: name,
                // 字体大小
                size: Math.sqrt(wordCloudKeyWords[name])
            })
        }
        var cloudFill = d3.scale.category20();  //输出20种类别的颜色 ---颜色比例尺



        var wordCloudLayout = d3.layout.cloud()
            // 词云大小
            .size([300, 250])
            .words(myWords.map(function (d) { return { text: d.word, size: d.size }; }))
            .padding(5)        //space between words
            .rotate(function () { return ~~(Math.random() * 2) * 90; })
            .fontSize(function (d) { return d.size * 30; })      // 字体大小
            .on("end", draw);
        wordCloudLayout.start();


        function draw(words) {
            d3.select("#wordCloud").append("svg")
                .attr("width", wordCloudLayout.size()[0])
                .attr("height", wordCloudLayout.size()[1])
                .append("g")
                .attr("transform", "translate(" + wordCloudLayout.size()[0] / 2 + "," + wordCloudLayout.size()[1] / 2 + ")")
                .selectAll("text")
                .data(words)
                .enter().append("text")
                .style("font-size", function (d) { return d.size; })
                .style("fill", function (d, i) { return cloudFill(i); })
                .attr("text-anchor", "middle")
                .style("font-family", "Impact")
                .attr("transform", function (d) {
                    return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";
                })
                .text(function (d) { return d.text; });
        }
    </script>
</body>

</html>